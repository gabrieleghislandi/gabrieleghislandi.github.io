<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Tabella JSON con Immagini e CV</title>
</head>
<style>
    table {
        width: 100%;
        text-align: center;
        border-collapse: collapse;
    }
    th, td {
        border: 1px solid black;
        padding: 8px;
    }
    tr {
        background-color: blue;
        color: white;
    }
    tr:nth-child(even) {
        background-color: lightgray;
        color: black;
    }
    img {
        width: 50px;
        height: 50px;
        border-radius: 50%;
    }
</style>
<body>
<center>
    <h1>TABELLA JSON</h1>
    <table id="Anagrafica">
        <tr>
            <th>IMMAGINE</th>
            <th>NOME</th>
            <th>COGNOME</th>
            <th>ETA</th>
            <th>INDIRIZZO</th>
            <th>CITTA</th>
            <th>TELEFONI</th>
            <th>CV</th>
        </tr>
    </table>
</center>
<script>
function carica() {
    const x = new XMLHttpRequest();
    x.open("GET", 'file2.json', true);
    x.onload = function () {
        if (x.status == 200) {
            const dati = JSON.parse(x.responseText);
            const tabella = document.getElementById("Anagrafica");
            for (let i = 0; i < dati.anagrafica.length; i++) {
                const persona = dati.anagrafica[i];
                const riga = document.createElement("tr");
                
                // Colonna Immagine
                const cellaImmagine = document.createElement("td");
                const immagine = document.createElement("img");
                immagine.src = persona.thumb; // URL della miniatura
                cellaImmagine.appendChild(immagine);
                riga.appendChild(cellaImmagine);

                // Altre colonne
                const cellaNome = document.createElement("td");
                cellaNome.textContent = persona.nome;
                riga.appendChild(cellaNome);

                const cellaCognome = document.createElement("td");
                cellaCognome.textContent = persona.cognome;
                riga.appendChild(cellaCognome);

                const cellaEta = document.createElement("td");
                cellaEta.textContent = persona.eta;
                riga.appendChild(cellaEta);

                const cellaIndirizzo = document.createElement("td");
                cellaIndirizzo.textContent = persona.indirizzo;
                riga.appendChild(cellaIndirizzo);

                const cellaCitta = document.createElement("td");
                cellaCitta.textContent = persona.citta;
                riga.appendChild(cellaCitta);

                const cellaTelefoni = document.createElement("td");
                const lista = document.createElement("ul");
                for (let j = 0; j < persona.telefoni.length; j++) {
                    const li = document.createElement("li");
                    li.textContent = persona.telefoni[j];
                    lista.appendChild(li);
                }
                cellaTelefoni.appendChild(lista);
                riga.appendChild(cellaTelefoni);

                // Colonna CV
                const cellaCV = document.createElement("td");
                const linkCV = document.createElement("a");
                linkCV.href = persona.cv; // URL del CV
                linkCV.textContent = "Visualizza CV";
                linkCV.target = "_blank"; // Aprire in una nuova scheda
                cellaCV.appendChild(linkCV);
                riga.appendChild(cellaCV);

                tabella.appendChild(riga);
            }
        }
    };
    x.send();
}
carica();
</script>
</body>
</html>
